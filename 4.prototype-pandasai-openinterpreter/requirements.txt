<!-- <!-- <!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat with AI</title>
</head>
<body>
    <h1>Chat with AI</h1>
    <form method="POST">
        <label for="prompt">Enter your prompt:</label>
        <input type="text" name="prompt" required>
        <button type="submit">Submit</button>
    </form>
    <h2>Chat Result:</h2>
    {% if result %}
        <pre>{{ result }}</pre>
    {% else %}
        <p>Upload a CSV file and enter a prompt to chat.</p>
    {% endif %}
    {% if img_data %}
        <img src="data:image/png;base64,{{ img_data }}">
    {% endif %}
</body>
</html> -->


<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Chat</title>
    </head>
</head>
<body>
    <h1>Chat Result</h1>

    {% if result %}
    <div>
        <h3>Result:</h3>
        <p>{{ result }}</p>
    </div>
    {% endif %}

    <!-- Display the image if img_data is provided -->
    <!-- {% if img_data %}
    <div>
        <h3>Generated Plot:</h3>
        <!-- Add an id and style to control the image visibility -->
        <img id="chartImage" src="data:image/png;base64,{{ img_data }}" alt="Generated Plot" style="display:none;">
        <!-- Add a button to toggle the image visibility -->
        <button onclick="toggleChart()">Toggle Chart</button>
    </div>
    {% endif %}

    <form method="POST" action="/chat">
        <label for="prompt">Enter your query:</label>
        <input type="text" id="prompt" name="prompt" required>
        <button type="submit">Ask AI</button>
    </form>

    <!-- Add JavaScript to toggle image visibility -->
    <script>
        function toggleChart() {
            var chartImage = document.getElementById("chartImage");
            if (chartImage.style.display === "none") {
                chartImage.style.display = "block";
            } else {
                chartImage.style.display = "none";
            }
        }
//     </script>
// </body>
// </html> -
